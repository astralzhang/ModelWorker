//定义一个首页依赖模块，此模块依赖jquery
define(["common", "uploader"], function($,common) {

    $(document).ready(function(){  
    	var option = {
    				preview:false, 
    				auto:false, 
    				fileNumLimit : 10,
    				statusbar : true,
    				thumb        : {
						width        : 160 * (window.devicePixelRatio || 1),
						height       : 160 * (window.devicePixelRatio || 1),
						allowMagnify : false,
						crop         : true,
						type         : 'image/jpeg'
			}}

 		$(".picker").upload();


 		$("#sss").click(function(){

         		$(".picker").on("queue", function(event, file, md5, ret){
         			handles = $(this).data("uploader");
                    console.log(ret)

         		})
         		.on("success", function(event, rs, file, thumb){
         		   console.log("hello", rs)
         		   //var t = $("<img src='"+ thumb +"'/>")
        		   //$("body").append(t)
         		}) 		
         		.on("error", function(event, file, err){
         		   console.log("hello",err)
         		})
                .on("complete", function(event, file){
                   console.log("complete",file)
                }).data("uploader").handle.upload()



 		})


    })

})