define(['common','treeview','simditor','uploader'],function(){
    var defaultData = [
        {
            text: '保险福利',
            href: '#parent1',
            tags: ['4'],
            nodes: [
                {
                    text: '健康险',
                    href: '#child1',
                    tags: ['2'],
                    nodes: [
                        {
                            text: 'Grandchild 1',
                            href: '#grandchild1',
                            tags: ['0']
                        },
                        {
                            text: 'Grandchild 2',
                            href: '#grandchild2',
                            tags: ['0']
                        }
                    ]
                },
                {
                    text: '意外险',
                    href: '#child2',
                    tags: ['0']
                }
            ]
        },
        {
            text: '节日福利',
            href: '#parent2',
            tags: ['0'],
            nodes: [
                {
                    text: '圣诞节',
                    href: '#child1',
                    tags: ['2'],
                    nodes: [
                        {
                            text: 'Grandchild 1',
                            href: '#grandchild1',
                            tags: ['0']
                        },
                        {
                            text: 'Grandchild 2',
                            href: '#grandchild2',
                            tags: ['0']
                        }
                    ]
                },
                {
                    text: '春节',
                    href: '#child2',
                    tags: ['0']
                }
            ]
        },
        {
            text: '体检福利',
            href: '#parent3',
            tags: ['0'],
            nodes: [
                {
                    text: 'Child 1',
                    href: '#child1',
                    tags: ['2'],
                    nodes: [
                        {
                            text: 'Grandchild 1',
                            href: '#grandchild1',
                            tags: ['0']
                        },
                        {
                            text: 'Grandchild 2',
                            href: '#grandchild2',
                            tags: ['0']
                        }
                    ]
                },
                {
                    text: 'Child 2',
                    href: '#child2',
                    tags: ['0']
                }
            ]
        },
        {
            text: '补充福利',
            href: '#parent4',
            tags: ['0'],
            nodes: [
                {
                    text: 'Child 1',
                    href: '#child1',
                    tags: ['2'],
                    nodes: [
                        {
                            text: 'Grandchild 1',
                            href: '#grandchild1',
                            tags: ['0']
                        },
                        {
                            text: 'Grandchild 2',
                            href: '#grandchild2',
                            tags: ['0']
                        }
                    ]
                },
                {
                    text: 'Child 2',
                    href: '#child2',
                    tags: ['0']
                }
            ]
        },
        {
            text: '定制福利',
            href: '#parent5'  ,
            tags: ['0'],
            nodes: [
                {
                    text: 'Child 1',
                    href: '#child1',
                    tags: ['2'],
                    nodes: [
                        {
                            text: 'Grandchild 1',
                            href: '#grandchild1',
                            tags: ['0']
                        },
                        {
                            text: 'Grandchild 2',
                            href: '#grandchild2',
                            tags: ['0']
                        }
                    ]
                },
                {
                    text: 'Child 2',
                    href: '#child2',
                    tags: ['0']
                }
            ]
        }
    ];

    $('#treeview1').treeview({
        data: defaultData
    });


    $(function () {
        $("#check_select").change(function() {
            var sel=$(this).children('option:selected').val();
            if(sel == 1){
                $("#select1").show();
                $("#select2").hide();
            }
            else if(sel == 2){
                $("#select2").show();
                $("#select1").hide();
            }else{
                $("#select1").hide();
                $("#select2").hide();
            }
        });
    });

    <!--以下是可编辑文本的引用-->

//    $(function () {
//        CKEDITOR.replace('editor');
//        $('#underwriting').hide();
//        //
//        $("[name='priceModel']").on("click", function(){
//            if ($(this).val() == '1') {
//                $("#standardPercent").attr("disabled", true).val('');
//                $("#insurance").attr("disabled", true).val('');
//                $("#prefixName").attr("disabled", true).val('');
//                $("#standardPrice").removeAttr("disabled");
//
//            } else {
//                $("#standardPercent").removeAttr("disabled");
//                $("#insurance").removeAttr("disabled");
//                $("#standardPrice").attr("disabled", true).val('');
//                $("#prefixName").removeAttr("disabled");
//            }
//        });
//        $("[name='typeModel']").on("click", function(){
//            if ($(this).val() == '1') {
//                $('#otherbox').show();
//            } else {
//                $('#otherbox').hide();
//            }
//        });

    var editor = new Simditor({
        textarea: $('#editor') ,
        //optional options
        upload: false,
        defaultImage : 'http://www.fescoadecco.com/templets/default/images/logo.png',
        tabIndent: true,
        toolbar: ["title", "bold", "italic", "underline", "strikethrough", "fontScale", "color", "ol", "ul", "blockquote", "code", "table", "link", "image", "hr", "indent", "outdent", "alignment"],
        toolbarFloat: true,
        toolbarFloatOffset: 0,
        toolbarHidden: false,
        pasteImage: false,
        cleanPaste: false
    });

        //是否要核保
        $('#check_y').on('click',function(){
            if($('#check_y').prop('checked')) {
                $('#underwriting').show();
            } else {
                $('#underwriting').hide();
            }
        });




        $("#category").change(function(){
            var current = $(this).find("option:selected");
            var type    = $(current).attr('type') || $(current).parent().attr('type');
            console.log(type);
            if(type == 'baoxian'){
                $('#otherbox1,#otherbox2').show();
                $('.baoxian').show();
                $('.cards').hide();
                $('.once').hide();
            }else{
                $('#otherbox1,#otherbox2').hide();
                if($(this).val() == '卡类体检套餐'){
                    $('.baoxian').hide();
                    $('.once').hide();
                    $('.cards').removeClass('hidden').show();
                }else{
                    $('.cards').hide();
                    $('.baoxian').hide();
                    $('.once').removeClass('hidden').show();
                }
            }
        });


        $("input[name=priceType]").change(function(){
            if($(this).val() == 'price'){
                $('.rate-iterm').hide()
            }else{
                $('.rate-iterm').show()
            }
        });
        $(".upload-picker").upload();

    })





